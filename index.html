<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>CTF Training Portal</title>
<style>
    body {
        background-color: #0a0a0f;
        color: #e0e0e0;
        font-family: "Consolas", monospace;
        margin: 0;
        padding: 0;
    }
    header {
        text-align: center;
        padding: 20px;
        border-bottom: 2px solid #0ff;
    }
    h1 {
        color: #00ffff;
        text-shadow: 0 0 8px #00ffff;
    }
    .controls {
        text-align: center;
        margin: 20px;
    }
    input, select, button {
        background: #111;
        color: #0ff;
        border: 1px solid #0ff;
        padding: 5px 10px;
        margin: 5px;
        border-radius: 5px;
    }
    button:hover {
        background: #0ff;
        color: #111;
        cursor: pointer;
    }
    .category {
        margin: 30px;
        border-left: 3px solid #0ff;
        padding-left: 15px;
    }
    h2 {
        color: #ff00ff;
        text-shadow: 0 0 6px #ff00ff;
    }
    ul {
        list-style: none;
        padding: 0;
    }
    li {
        background: #111;
        margin: 5px 0;
        padding: 10px;
        border: 1px solid #222;
        border-radius: 8px;
    }
    a {
        color: #00ffff;
        text-decoration: none;
    }
    a:hover {
        text-decoration: underline;
    }
    .admin-controls, .leader-controls {
        display: none;
        text-align: center;
        margin: 20px;
    }
    .topic-actions button, .leader-actions button {
        margin-left: 5px;
        background: #222;
        color: #0ff;
        border: 1px solid #0ff;
    }
    .topic-actions button:hover, .leader-actions button:hover {
        background: #0ff;
        color: #111;
    }
    .footer {
        border-top: 2px solid #0ff;
        text-align: center;
        padding: 20px;
        margin-top: 40px;
        background-color: #050509;
    }
    .telegram-btn {
        display: inline-block;
        margin: 10px;
        padding: 10px 20px;
        border: 1px solid #00ffff;
        color: #00ffff;
        text-decoration: none;
        border-radius: 10px;
        text-transform: uppercase;
        transition: 0.3s;
    }
    .telegram-btn:hover {
        background-color: #00ffff;
        color: #000;
        box-shadow: 0 0 10px #00ffff;
    }
    .leaderboard {
        text-align: center;
        margin-top: 20px;
    }
    .leader {
        display: inline-block;
        background: #111;
        border: 1px solid #0ff;
        border-radius: 10px;
        margin: 10px;
        padding: 15px 25px;
        text-align: left;
        box-shadow: 0 0 10px #0ff2;
        transition: 0.3s;
    }
    .leader:hover {
        transform: scale(1.03);
        box-shadow: 0 0 15px #0ff5;
    }
    .leader h3 {
        color: #ff00ff;
        margin-bottom: 5px;
    }
</style>
</head>
<body>
<header>
    <h1>‚ö° CTF Training Portal ‚ö°</h1>
</header>

<div class="controls">
    <input type="text" id="searchBox" placeholder="Search topic..." />
    <select id="categoryFilter">
        <option value="all">All Categories</option>
        <option value="Web + Pentesting">Web + Pentesting</option>
        <option value="Forensics + Networking">Forensics + Networking</option>
        <option value="Reverse Engineering + Pwn">Reverse Engineering + Pwn</option>
        <option value="Cryptography">Cryptography</option>
        <option value="Steganography">Steganography</option>
        <option value="OSINT">OSINT</option>
    </select>
    <button onclick="exportTXT()">Export TXT</button>
    <button onclick="showAdminLogin()">Admin Login</button>
</div>

<!-- Topic admin panel -->
<div class="admin-controls" id="adminPanel">
    <h3>Admin Controls - Topics</h3>
    <input type="text" id="topicName" placeholder="Topic Name" />
    <input type="text" id="topicLink" placeholder="Topic Link (https://...)" />
    <select id="topicCategory">
        <option value="Web + Pentesting">Web + Pentesting</option>
        <option value="Forensics + Networking">Forensics + Networking</option>
        <option value="Reverse Engineering + Pwn">Reverse Engineering + Pwn</option>
        <option value="Cryptography">Cryptography</option>
        <option value="Steganography">Steganography</option>
        <option value="OSINT">OSINT</option>
    </select>
    <button onclick="addTopic()">Add Topic</button>
</div>

<!-- Leader admin panel -->
<div class="leader-controls" id="leaderPanel">
    <h3>Admin Controls - Leaders</h3>
    <input type="text" id="leaderName" placeholder="Leader Name" />
    <input type="text" id="leaderSocial" placeholder="Social Link (https://...)" />
    <select id="leaderCategory">
        <option value="Web + Pentesting">Web + Pentesting</option>
        <option value="Forensics + Networking">Forensics + Networking</option>
        <option value="Reverse Engineering + Pwn">Reverse Engineering + Pwn</option>
        <option value="Cryptography">Cryptography</option>
        <option value="Steganography">Steganography</option>
        <option value="OSINT">OSINT</option>
    </select>
    <button onclick="addLeader()">Add Leader</button>
    <button onclick="logoutAdmin()">Logout</button>
</div>

<div id="topicsContainer"></div>

<!-- Leaderboard -->
<div class="leaderboard" id="leaderboardContainer">
    <h2>üëë Lead By</h2>
</div>

<!-- Footer -->
<div class="footer">
    <a class="telegram-btn" href="https://t.me/+-TPP2LSoLpYxNWY1" target="_blank">üöÄ Join Telegram</a>
    <p>¬© 2025 CTF Training Community</p>
</div>

<script>
const ADMIN_PASSWORD = "ctfadmin123";
let isAdmin = false;

// Load from localStorage
let topics = JSON.parse(localStorage.getItem("ctfTopics")) || [
    { name: "SQL Injection Basics", link: "https://portswigger.net/web-security/sql-injection", category: "Web + Pentesting" },
    { name: "File Upload Vulnerability", link: "https://owasp.org/www-community/vulnerabilities/Unrestricted_File_Upload", category: "Web + Pentesting" },
    { name: "Memory Forensics with Volatility", link: "https://volatilityfoundation.org/", category: "Forensics + Networking" },
    { name: "Reverse Engineering ELF Files", link: "https://malwareunicorn.org/workshops/re101.html", category: "Reverse Engineering + Pwn" },
    { name: "Cryptography101", link: "https://Cryptography101.io/", category: "Cryptography" },
    { name: "Steganographyanography Guide", link: "https://0xrick.github.io/lists/Steganographyo/", category: "Steganography" },
    { name: "OSINT Framework", link: "https://osintframework.com/", category: "OSINT" }
];

let leaders = JSON.parse(localStorage.getItem("ctfLeaders")) || [
    { name: "Alex Cyber", category: "Web + Pentesting", social: "https://facebook.com/" },
    { name: "Sara Bytes", category: "Forensics + Networking", social: "https://linkedin.com/" },
    { name: "Neo Debug", category: "Reverse Engineering + Pwn", social: "https://github.com/" },
];

function getSocialPlatform(url) {
    if (url.includes("facebook.com")) return "Facebook üåê";
    if (url.includes("linkedin.com")) return "LinkedIn üíº";
    if (url.includes("github.com")) return "GitHub üíª";
    if (url.includes("twitter.com") || url.includes("x.com")) return "Twitter üê¶";
    if (url.includes("instagram.com")) return "Instagram üì∏";
    if (url.includes("t.me")) return "Telegram üí¨";
    return "Profile üîó";
}

function renderTopics() {
    const container = document.getElementById("topicsContainer");
    const search = document.getElementById("searchBox").value.toLowerCase();
    const filter = document.getElementById("categoryFilter").value;

    container.innerHTML = "";
    const categories = [...new Set(topics.map(t => t.category))];

    categories.forEach(cat => {
        const catTopics = topics.filter(
            t => t.category === cat &&
            (filter === "all" || t.category === filter) &&
            t.name.toLowerCase().includes(search)
        );

        if (catTopics.length > 0) {
            const div = document.createElement("div");
            div.className = "category";
            div.innerHTML = `<h2>${cat}</h2><ul>` +
                catTopics.map((t, i) =>
                    `<li><a href="${t.link}" target="_blank">${t.name}</a>` +
                    (isAdmin ? 
                    `<span class='topic-actions'>
                        <button onclick='editTopic(${i})'>‚úèÔ∏è</button>
                        <button onclick='deleteTopic(${i})'>üóëÔ∏è</button>
                    </span>` : "") +
                    `</li>`
                ).join("") +
                "</ul>";
            container.appendChild(div);
        }
    });
}

function renderLeaders() {
    const container = document.getElementById("leaderboardContainer");
    container.innerHTML = "<h2>üëë Lead By</h2>";

    leaders.forEach((leader, index) => {
        const div = document.createElement("div");
        div.className = "leader";
        const platform = getSocialPlatform(leader.social);
        div.innerHTML = `
            <h3>${leader.category}</h3>
            <p><strong>Name:</strong> ${leader.name}</p>
            <p><strong>Social:</strong> <a href="${leader.social}" target="_blank">${platform}</a></p>
            ${isAdmin ? `
                <div class="leader-actions">
                    <button onclick="editLeader(${index})">‚úèÔ∏è</button>
                    <button onclick="deleteLeader(${index})">üóëÔ∏è</button>
                </div>
            ` : ""}
        `;
        container.appendChild(div);
    });
}

function saveData() {
    localStorage.setItem("ctfTopics", JSON.stringify(topics));
    localStorage.setItem("ctfLeaders", JSON.stringify(leaders));
}

function showAdminLogin() {
    const pwd = prompt("Enter Admin Password:");
    if (pwd === ADMIN_PASSWORD) {
        isAdmin = true;
        document.getElementById("adminPanel").style.display = "block";
        document.getElementById("leaderPanel").style.display = "block";
        renderTopics();
        renderLeaders();
    } else {
        alert("Incorrect password!");
    }
}

function logoutAdmin() {
    isAdmin = false;
    document.getElementById("adminPanel").style.display = "none";
    document.getElementById("leaderPanel").style.display = "none";
    renderTopics();
    renderLeaders();
}

function addTopic() {
    const name = document.getElementById("topicName").value;
    const link = document.getElementById("topicLink").value;
    const category = document.getElementById("topicCategory").value;
    if (name && link) {
        topics.push({ name, link, category });
        saveData();
        renderTopics();
        document.getElementById("topicName").value = "";
        document.getElementById("topicLink").value = "";
    } else alert("Please fill all fields!");
}

function addLeader() {
    const name = document.getElementById("leaderName").value;
    const social = document.getElementById("leaderSocial").value;
    const category = document.getElementById("leaderCategory").value;
    if (name && social) {
        leaders.push({ name, social, category });
        saveData();
        renderLeaders();
        document.getElementById("leaderName").value = "";
        document.getElementById("leaderSocial").value = "";
    } else alert("Please fill all fields!");
}

function editTopic(i) {
    const newName = prompt("Edit topic name:", topics[i].name);
    const newLink = prompt("Edit topic link:", topics[i].link);
    if (newName && newLink) {
        topics[i].name = newName;
        topics[i].link = newLink;
        saveData();
        renderTopics();
    }
}

function editLeader(i) {
    const newName = prompt("Edit leader name:", leaders[i].name);
    const newSocial = prompt("Edit leader social:", leaders[i].social);
    if (newName && newSocial) {
        leaders[i].name = newName;
        leaders[i].social = newSocial;
        saveData();
        renderLeaders();
    }
}

function deleteTopic(i) {
    if (confirm("Delete this topic?")) {
        topics.splice(i, 1);
        saveData();
        renderTopics();
    }
}

function deleteLeader(i) {
    if (confirm("Delete this leader?")) {
        leaders.splice(i, 1);
        saveData();
        renderLeaders();
    }
}

function exportTXT() {
    let text = topics.map(t => `[${t.category}] ${t.name} - ${t.link}`).join("\n");
    const blob = new Blob([text], { type: "text/plain" });
    const url = URL.createObjectURL(blob);
    const a = document.createElement("a");
    a.href = url;
    a.download = "ctf_topics.txt";
    a.click();
}

document.getElementById("searchBox").addEventListener("input", renderTopics);
document.getElementById("categoryFilter").addEventListener("change", renderTopics);

renderTopics();
renderLeaders();
</script>
</body>
</html>
